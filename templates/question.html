{% extends "layout.html" %}
{% block title %}Question - Apex Gauntlet{% endblock %}
{% block page_class %}question{% endblock %}
{% block content %}
<div class="card-container" id="questionContainer" style="display: none;" data-group-id="{{ session.group_id }}">
    <div class="card question-card">
        <div class="question-header">
            <div id="progressText">Question 1 of 6</div>
            <div id="categoryText">Category</div>
        </div>
        
        <div class="timer-container">
            <svg class="timer-svg" viewBox="0 0 100 100">
                <circle class="timer-bg" cx="50" cy="50" r="45"></circle>
                <path id="timer-path" class="timer-path" stroke-dasharray="283" stroke-dashoffset="0" d="M 50, 50 m -45, 0 a 45,45 0 1,0 90,0 a 45,45 0 1,0 -90,0"></path>
            </svg>
            <span id="timerText" class="timer-text">--:--</span>
        </div>
        
        <p id="questionText" class="question-text">Loading question...</p>
        
        <div class="form-group">
            <input type="text" id="answerInput" placeholder="Type your answer here..." autocomplete="off">
        </div>
        <button id="submitAnswerBtn" class="btn btn-primary">Submit Answer</button>

        <div id="proctorQuestionControls" class="proctor-controls" style="display: none;">
            <button id="proctorNextBtn" class="btn btn-primary">Next Question</button>
            <button id="proctorLeaderboardBtn" class="btn btn-secondary">View Leaderboard</button>
        </div>
    </div>
</div>

<div id="finalLeaderboardContainer" class="card-container" style="display: none;" data-group-id="{{ session.group_id }}">
    <div class="card scoreboard-card">
        <h1 class="event-title">Round Complete!</h1>
        <h2 class="lobby-title">{{ session.group_name }} - Final Scores</h2>
        <div class="scoreboard">
            <div class="scoreboard-header">
                <span>Rank</span>
                <span>Name</span>
                <span>Score</span>
            </div>
            <div id="finalScoreList" class="scoreboard-list"></div>
        </div>
        <p class="winner-announcement">The top 2 participants advance to the next round!</p>
        <a href="/logout" class="btn btn-secondary">Logout</a>
    </div>
</div>

<div id="resultModal" class="modal">
    <div class="modal-content">
        <h2 id="resultTitle"></h2>
        <p id="resultPoints"></p>
        <p id="correctAnswerText"></p>
        <p id="waitingForProctorMsg" class="wait-message">Waiting for proctor to continue...</p>
    </div>
</div>
{% endblock %}